(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,i){e.exports=i(17)},16:function(e,t,i){},17:function(e,t,i){"use strict";i.r(t);var a=i(0),n=i.n(a),l=i(2),r=i.n(l),s=i(3),h=i(4),o=i(8),c=i(5),u=i(9),d=(i(16),i(6)),g=i.n(d),f=function(e){var t=e.onClick,i=e.cell,a=e.className;return n.a.createElement("div",{className:a,onClick:t},i.figure?n.a.createElement("img",{src:"images/".concat(i.figure,".png"),alt:"figure"}):null)},m=function(e){var t=e.column,i=e.selectedFigure,a=e.onClick;return n.a.createElement("section",null,t.map(function(e){return n.a.createElement(f,{key:e.index,className:g()({black:"#333"===e.bg},{red:i.x===e.x&&i.y===e.y},{yellow:e.highlighted}),onClick:function(){return a(e.x,e.y,e.figure)},cell:e})}))},y=i(7),b=function(){var e=Object(a.useState)(!1),t=Object(y.a)(e,2),i=t[0],l=t[1];return setTimeout(function(){return l(!0)},7e3),n.a.createElement(n.a.Fragment,null,i?null:n.a.createElement("div",{className:"Prealoader"},n.a.createElement("div",{className:"content"},n.a.createElement("img",{src:"images/mobile-icon.png",className:"logo",alt:"horse"}),n.a.createElement("p",{className:"author"},"Author: ",n.a.createElement("em",null,"Alexander Vashchuk")))))},k=function(e){var t=e.turn,i=e.whitesDead,a=e.blacksDead,l=e.selectedFigure,r=e.onClick;return n.a.createElement("div",{className:"RescueWindow"},n.a.createElement("div",{className:"content"},n.a.createElement("h1",null,"Pick up a figure to rescue:"),n.a.createElement("div",{className:"list-of-figures"},"white"===t?n.a.createElement(n.a.Fragment,null,i.map(function(e,t){return n.a.createElement("section",{key:t,onClick:function(){return r(l.x,l.y,e)}},n.a.createElement("img",{title:"Rescue this figure",src:"images/".concat(e,".png"),alt:"figure"}))})):n.a.createElement(n.a.Fragment,null,a.map(function(e,t){return n.a.createElement("section",{key:t,onClick:function(){return r(l.x,l.y,e)}},n.a.createElement("img",{title:"Rescue this figure",src:"images/".concat(e,".png"),alt:"figure"}))})))))},p=function(e){var t=e.winner,i=e.playAgain;return n.a.createElement("div",{className:"End-Game"},n.a.createElement("div",{className:"content"},n.a.createElement("div",{className:"end-game-text"},t," Team Won:",n.a.createElement("p",{className:"small"},"click down bellow to play again")),n.a.createElement("button",{onClick:function(){return i()},className:"play-again-button"},"Play Again")))},E=function(e){function t(){var e,i;Object(s.a)(this,t);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return(i=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(n)))).state={board:[],turn:"white",selectedFigure:{x:null,y:null},winner:null,showRescueWindow:!1,whitesDead:[],blacksDead:[]},i.componentWillMount=function(){i.initBoard(),i.initFigures()},i.selectCell=function(e,t,a){var n=i.state,l=n.board,r=n.selectedFigure,s=n.turn,h=n.whitesDead,o=n.blacksDead;if(a&&a.indexOf(s)>=0&&(r.x=e,r.y=t,i.clearTable(),i.setState({selectedFigure:r}),a.indexOf("pawn-black")>=0&&i.pawnBlack(e,t),a.indexOf("pawn-white")>=0&&i.pawnWhite(e,t),a.indexOf("rock")>=0&&i.rock(e,t),a.indexOf("horse")>=0&&i.horse(e,t),a.indexOf("bishop")>=0&&i.bishop(e,t),a.indexOf("queen")>=0&&i.queen(e,t),a.indexOf("king")>=0&&i.king(e,t)),l[e][t].highlighted){if(""!==l[e][t].figure&&0!==l[e][t].figure.indexOf("pawn")){var c=i.state,u=c.whitesDead,d=c.blacksDead,g=l[e][t].figure;l[e][t].figure.indexOf("white")>=0?(u.push(g),i.setState({whitesDead:u})):(d.push(g),i.setState({blacksDead:d}))}if("king-black"===l[e][t].figure&&(alert("The White Won"),i.setState({winner:"White"})),"king-white"===l[e][t].figure&&(alert("The Black Won"),i.setState({winner:"Black"})),s="white"===s?"black":"white",l[e][t].figure=l[r.x][r.y].figure,l[r.x][r.y].figure="",l[e][t].figure.indexOf("pawn-white")>=0&&0===l[e][t].y&&h.length>0)return i.setState({showRescueWindow:!0,selectedFigure:{x:e,y:t}}),void i.clearTable();if(l[e][t].figure.indexOf("pawn-black")>=0&&7===l[e][t].y&&o.length>0)return i.setState({showRescueWindow:!0,selectedFigure:{x:e,y:t}}),void i.clearTable();i.clearTable(),i.setState({turn:s,board:l,selectedFigure:{x:null,y:null}})}},i.playAgain=function(){i.wipeTheBoard(),i.initFigures(),i.setState({winner:null,turn:"white",whitesDead:[],blacksDead:[]})},i.rescueFigure=function(e,t,a){var n=i.state,l=n.board,r=n.selectedFigure,s=n.turn,h=n.whitesDead,o=n.blacksDead;l[r.x][r.y].figure=a,"white"===s?h.splice(h.indexOf(a),1):o.splice(o.indexOf(a),1),s="white"===s?"black":"white",i.setState({showRescueWindow:!1,board:l,selectedFigure:{x:null,y:null},turn:s,whitesDead:h,blacksDead:o})},i}return Object(u.a)(t,e),Object(h.a)(t,[{key:"wipeTheBoard",value:function(){var e=this.state.board;e.map(function(e){return e.map(function(e){return e.figure=""})}),this.setState({board:e})}},{key:"initBoard",value:function(){for(var e=this.state.board,t=0;t<8;t++){for(var i=[],a=0;a<8;a++){var n=8*t+a,l=(t+a)%2?"#333":"white";i.push({x:t,y:a,index:n,bg:l,figure:"",highlighted:!1})}e.push(i)}this.setState({board:e})}},{key:"initFigures",value:function(){var e=this.state.board;["rock","horse","bishop","queen","king","bishop","horse","rock"].forEach(function(t,i){e[i][1].figure="pawn-black",e[i][6].figure="pawn-white",e[i][0].figure=t+"-black",e[i][7].figure=t+"-white"}),this.setState({board:e})}},{key:"clearTable",value:function(){var e=this.state.board;e.map(function(e){return e.map(function(e){return e.highlighted=!1})}),this.setState({board:e})}},{key:"doesCellExist",value:function(e,t){return e>=0&&e<=7&&t>=0&&t<=7}},{key:"doesCellEmpty",value:function(e,t){var i=this.state.board;return!!this.doesCellExist(e,t)&&""===i[e][t].figure}},{key:"doesEnemyAtCell",value:function(e,t){var i=this.state,a=i.board,n=i.turn;return!(!this.doesCellExist(e,t)||this.doesCellEmpty(e,t))&&a[e][t].figure.indexOf(n)<=0}},{key:"pawnWhite",value:function(e,t){var i=this.state.board;this.doesCellEmpty(e,t-1)&&(i[e][t-1].highlighted=!0,6===t&&this.doesCellEmpty(e,t-2)&&(i[e][t-2].highlighted=!0)),this.doesEnemyAtCell(e-1,t-1)&&(i[e-1][t-1].highlighted=!0),this.doesEnemyAtCell(e+1,t-1)&&(i[e+1][t-1].highlighted=!0),this.setState({board:i})}},{key:"pawnBlack",value:function(e,t){var i=this.state.board;this.doesCellEmpty(e,t+1)&&(i[e][t+1].highlighted=!0,1===t&&this.doesCellEmpty(e,t+2)&&(i[e][t+2].highlighted=!0)),this.doesEnemyAtCell(e-1,t+1)&&(i[e-1][t+1].highlighted=!0),this.doesEnemyAtCell(e+1,t+1)&&(i[e+1][t+1].highlighted=!0),this.setState({board:i})}},{key:"rock",value:function(e,t){var i,a=this.state.board;for(i=1;i<=7;){if(!this.doesCellEmpty(e,t-i)){if(this.doesEnemyAtCell(e,t-i)){a[e][t-i].highlighted=!0;break}break}a[e][t-i].highlighted=!0,i++}for(i=1;i<=7;){if(!this.doesCellEmpty(e,t+i)){if(this.doesEnemyAtCell(e,t+i)){a[e][t+i].highlighted=!0;break}break}a[e][t+i].highlighted=!0,i++}for(i=1;i<=7;){if(!this.doesCellEmpty(e-i,t)){if(this.doesEnemyAtCell(e-i,t)){a[e-i][t].highlighted=!0;break}break}a[e-i][t].highlighted=!0,i++}for(i=1;i<=7;){if(!this.doesCellEmpty(e+i,t)){if(this.doesEnemyAtCell(e+i,t)){a[e+i][t].highlighted=!0;break}break}a[e+i][t].highlighted=!0,i++}this.setState({board:a})}},{key:"horse",value:function(e,t){var i=this,a=this.state.board;[{x:e-2,y:t-1},{x:e+2,y:t-1},{x:e-2,y:t+1},{x:e+2,y:t+1},{x:e-1,y:t-2},{x:e+1,y:t-2},{x:e-1,y:t+2},{x:e+1,y:t+2}].forEach(function(e){(i.doesCellEmpty(e.x,e.y)||i.doesEnemyAtCell(e.x,e.y))&&(a[e.x][e.y].highlighted=!0)}),this.setState({board:a})}},{key:"bishop",value:function(e,t){var i,a=this.state.board;for(i=1;i<=7;){if(!this.doesCellEmpty(e-i,t-i)){if(this.doesEnemyAtCell(e-i,t-i)){a[e-i][t-i].highlighted=!0;break}break}a[e-i][t-i].highlighted=!0,i++}for(i=1;i<=7;){if(!this.doesCellEmpty(e+i,t-i)){if(this.doesEnemyAtCell(e+i,t-i)){a[e+i][t-i].highlighted=!0;break}break}a[e+i][t-i].highlighted=!0,i++}for(i=1;i<=7;){if(!this.doesCellEmpty(e-i,t+i)){if(this.doesEnemyAtCell(e-i,t+i)){a[e-i][t+i].highlighted=!0;break}break}a[e-i][t+i].highlighted=!0,i++}for(i=1;i<=7;){if(!this.doesCellEmpty(e+i,t+i)){if(this.doesEnemyAtCell(e+i,t+i)){a[e+i][t+i].highlighted=!0;break}break}a[e+i][t+i].highlighted=!0,i++}this.setState({board:a})}},{key:"queen",value:function(e,t){this.rock(e,t),this.bishop(e,t)}},{key:"king",value:function(e,t){var i=this,a=this.state.board;[{x:e-1,y:t-1},{x:e,y:t-1},{x:e+1,y:t-1},{x:e+1,y:t},{x:e+1,y:t+1},{x:e,y:t+1},{x:e-1,y:t+1},{x:e-1,y:t}].forEach(function(e){(i.doesCellEmpty(e.x,e.y)||i.doesEnemyAtCell(e.x,e.y))&&(a[e.x][e.y].highlighted=!0)}),this.setState({board:a})}},{key:"render",value:function(){var e=this,t=this.state,i=t.turn,a=t.board,l=t.selectedFigure,r=t.winner,s=t.showRescueWindow,h=t.whitesDead,o=t.blacksDead;return n.a.createElement("div",{className:"App"},n.a.createElement(b,null),s?n.a.createElement(k,{turn:i,whitesDead:h,blacksDead:o,onClick:this.rescueFigure,selectedFigure:l}):null,r?n.a.createElement(p,{winner:r,playAgain:this.playAgain}):null,n.a.createElement("div",{className:"grid"},a.map(function(t,i){return n.a.createElement(m,{key:i,column:t,selectedFigure:l,onClick:e.selectCell})})))}}]),t}(a.Component);r.a.render(n.a.createElement(E,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.1893638d.chunk.js.map